html { font-family: var(--font-aino), Arial, sans-serif; }        /* jääb alles */
.headline, .brand-title, .headline-bold {
  font-family: var(--font-aino-headline), var(--font-aino), Arial, sans-serif;
}
.particles-container {
  position: fixed;
  inset: 0;
  width: 100vw;
  height: 100vh;
  z-index: 2;                 /* taustast kõrgemal, sisu all */
  pointer-events: none;
}
/* === SISU KIHID === */
.glass-box,
.glass-left,
.glass-right,
.chat-container {
  position: relative;
  z-index: 21;
}
/* Väiksemad UI elemendid sisu sees */
.back-btn-wrapper,
.avatar-link,
.chat-avatar-abs {
  position: relative;
  z-index: 25;
}
/* === SPLASH CURSOR === */
.splash-cursor {
  position: fixed;
  inset: 0;
  width: 100vw;
  height: 100vh;
  pointer-events: none;
  z-index: 30;                /* sisu kohal, modali all */
}
html {
  height: 100%;
  -webkit-font-smoothing: antialiased;
  overscroll-behavior: none;
  box-sizing: border-box;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}
body {
  min-height: 100vh;         /* või 100dvh, kui tahad mobiilil täpsemat kõrgust */
  margin: 0;
  overflow-x: hidden;
  display: flex;
  flex-direction: column;
  justify-content: flex-start; /* enne oli center */
  align-items: stretch;        /* enne oli center */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  width: 100%;
  /* Fallback taust tumedale teemale – väldi valget välgatust enne
     taustakihtide (Space/ColorBends) mountimist */
  background-color: #0d111b;
  background-image: linear-gradient(180deg, #070b16 0%, #0d111b 100%);
  /* NB: fixed võib tekitada 1px "triibu" renderdamise pragusid.
     Hoia scroll-iga, sest tegelikud taustakihid on niikuinii fixed. */
}
html, body {
  overflow-y: auto;              /* kerimine jääb */
  -ms-overflow-style: none;      /* IE/Edge legacy */
  scrollbar-width: none;         /* Firefox */
}
html::-webkit-scrollbar,
body::-webkit-scrollbar {
  display: none;                 /* Chrome, Safari */
}
:root {
  /* === Bränd === */
  --brand-primary: #d0adad; /* slightly lighter brand tone for all */
  --brand-accent: var(--brand-primary);
  --brand-light:  var(--brand-primary);
  /* Blur intro tuning */
          /* revert to smoother start */
           /* keeps current speed unless overridden */
         /* delay until near end of card fade-in */
  /* Linkide hele kuldne toon */
  /* Linkide toon – pealkirjadega kooskõlas */
  --link-gold: var(--brand-primary);         /* unify links with brand */
  --link-gold-hover: var(--brand-primary);   /* hover same tone */
  /* Läbipaistvad variandid (tuletatud #ffab91 → rgb(255,171,145)) */
  --brand-alpha-05: rgba(255,171,145,0.05);
  --brand-alpha-10: rgba(255,171,145,0.10);
  --brand-alpha-15: rgba(255,171,145,0.15);
  --brand-alpha-25: rgba(255,171,145,0.25);
  --brand-alpha-35: rgba(255,171,145,0.35);
  --brand-alpha-45: rgba(255,171,145,0.45);
  --brand-alpha-60: rgba(255,171,145,0.60);
  /* === Platinum skaala === */
  --pt-50:  #F8F8F7; /* väga hele, pea valge */
  --pt-100: #ECEBE9; /* hele */
  --pt-150: #E6E5E3; /* veidi heledam */
  --pt-200: #DFDEDA; /* õrn, aga loetav */
  --pt-300: #C9C7C2; /* põhitekst – pehme platinum */
  --pt-400: #AFAAA3; /* tugevam, pealkirjad */
  --pt-500: #7E7970; /* tumedam kontrast */
  --pt-600: #55514C; /* kõige tumedam */
  /* alias’d */
  --pt-light: var(--pt-200); 
  --pt:       var(--pt-300); 
  --pt-mid:   var(--pt-400); 
  --pt-dark:  var(--pt-500);
  /* === Kaartide suurused ja animatsioonid === */
  --card-size: clamp(260px, 42vw, 430px);
  --flip-ms: 1100ms;
  --fade-ms: 600ms;
  --flip-ease: cubic-bezier(.22,.61,.36,1);
}
@media (max-width: 480px) {
  :root {
    --card-size: clamp(200px, 80vw, 280px);
  }
}
.glass-title,
.headline,
.reset-title,
.glass-label,
.right-card-primary .headline-bold,
.left-card-primary .headline-bold {
  font-family: var(--font-aino-headline), var(--font-aino), Arial, sans-serif;
  font-weight: 400; /* kui Headline on ainult 400; kui lisad 700, võid tõsta */
}
body, p, ul, li, .glass-list, .glass-section, .alaleht-inner, .card-note {
  font-family: var(--font-aino), Arial, sans-serif;
  font-weight: 400;
}
b, strong {
  font-family: var(--font-aino), Arial, sans-serif;
  font-weight: 700;
  letter-spacing: 0.03em;
}
h2, .glass-h2, .glass-label {
  font-family: var(--font-aino), Arial, sans-serif;
  font-weight: bold; /* või 600/500, vastavalt maitsele */
}
a, .link-brand, .meist-external-link {
  font-family: var(--font-aino), Arial, sans-serif;
  font-weight: 400;
}
.main-content {
  display: flex;
  position: relative;
  flex: 1 0 auto;
  box-sizing: border-box;
  z-index: 20;
  /* Soovi korral lisa väike default gap ka nt 40px, kui muidu on kaardid liiga koos */
}
.top-center-nav { position: relative; z-index: 2; }
.homepage-root {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  position: relative;
  overflow: hidden;
}
.side {
  flex: 1 1 0;
  min-height: 100vh;
  min-width: 0;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 2rem 1.5rem;
  box-sizing: border-box;
  position: relative;
}
.three-d-card{
  width: var(--card-size);
  aspect-ratio: 1 / 1;
  position: relative;
  margin: 0 auto;
  display: grid;
  place-items: center;
  border-radius: 50%;
  cursor: pointer;
  perspective: 1000px;
  isolation: auto; /* allow backdrop-filter to see real background */
}
.card-wrapper{
  position: relative;
  width: 100%;
  height: 100%;
  transform-style: preserve-3d;
  transition-property: transform;
  transition-duration: var(--flip-ms);
  transition-timing-function: var(--flip-ease);
  will-change: auto; /* vaikimisi mitte peal */
  border-radius: inherit; /* keep pseudo circular */
}
/* Rotating blur plane on wrapper – hidden until fade-in completes */
.card-wrapper::before{
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  z-index: 0;
  backdrop-filter: blur(var(--card-blur,12px)) saturate(var(--card-saturate,120%));
  -webkit-backdrop-filter: blur(var(--card-blur,12px)) saturate(var(--card-saturate,120%));
  transform: scale(1);
  /* force circular mask across engines */
  clip-path: circle(50% at 50% 50%);
  opacity: 0;
  transition: opacity 650ms cubic-bezier(.22,.61,.36,1), transform var(--flip-ms,1100ms) var(--flip-ease,cubic-bezier(.22,.61,.36,1));
}
/* Fade-in faasis: loo pseudo, kuid ilma (või minimaalse) blurrita ja väiksema skaalaga */
.card-wrapper:has(.glass-card.fade-in)::before,
.card-wrapper:has(.centered-back-left.fade-in)::before,
.card-wrapper:has(.centered-back-right.fade-in)::before{
  opacity: .18;   /* väga õrn – ainult lõpu lähedal nähtav */
  transform: scale(.98); /* veidi väiksem, et ring ei piilu servast */
}
/* Pärast fade-in’i: sujuvalt lõppväärtustele */
.card-wrapper:has(.glass-card.fade-in-done)::before,
.card-wrapper:not(:has(.glass-card.fade-in, .centered-back-left.fade-in, .centered-back-right.fade-in))::before{
  opacity: 1;
  transition: opacity 450ms cubic-bezier(.16,.84,.44,1),
              transform var(--flip-ms,1100ms) var(--flip-ease,cubic-bezier(.22,.61,.36,1));
}
/* Disable face-attached blur for stability (avoid double rings) */
.glass-card::before,
.centered-back-left::before,
.centered-back-right::before{
  content: none !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}
.three-d-card.flip-allowed:hover .card-wrapper,
.three-d-card.flip-allowed:focus-within .card-wrapper,
.three-d-card.flip-allowed.is-flipping .card-wrapper{
  will-change: transform;
}
/* pooled */
.card-face{
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  backface-visibility: hidden;
  border-radius: inherit;
  z-index: 1; /* keep content above blur plane */
}
.card-face.front{ transform: rotateY(0deg); }
.card-face.back { transform: rotateY(180deg); }
